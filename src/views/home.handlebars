<h1>Productos Disponibles</h1>

<div class="product-grid" id="productGrid">
  <!-- Aquí Socket.IO inyectará los productos -->
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  const productGrid = document.getElementById("productGrid");

  // Función para renderizar productos
  function renderProducts(products) {
    productGrid.innerHTML = ""; // Limpiamos la grilla
    products.forEach(p => {
      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <div class="product-image-container">
          <img class="product-image" src="${p.thumbnail}" alt="${p.title}">
        </div>
        <h2>${p.title}</h2>
        <p>Precio: $${p.price}</p>
        <p>${p.description}</p>
      `;
      productGrid.appendChild(card);
    });
  }

  // Escuchar actualizaciones desde el servidor
  socket.on("updateProducts", products => {
    renderProducts(products);
  });
</script>

